<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:rkwCheckup="http://typo3.org/ns/RKW/RkwCheckup/ViewHelpers"
    data-namespace-typo3-fluid="true">

    <h3>{step.title}</h3>
    <p>{step.description}</p>

        <div class="contentbox contentbox--text typo3-fsc">
            <div class="tabs js-tabs ui-tabs ui-corner-all ui-widget ui-widget-content">
                <ul class="tabs__nav ui-tabs-nav ui-corner-all ui-helper-reset ui-helper-clearfix ui-widget-header">
                    <f:for each="{step.question}" as="question" iteration="iter">
                        <f:if condition="{rkwCheckup:checkQuestionForAnswers(question: '{question}', result: '{result}')}" >
                            <li
                                class="tabs__nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab ui-tabs-active ui-state-active"
                                role="tab"
                                tabindex="0"
                                aria-controls="tab-{iter.cycle}"
                                aria-labelledby="ui-id-{iter.cycle}"
                                aria-selected="true"
                                aria-expanded="true">
                                <a
                                    class="tabs__nav-link ui-tabs-anchor"
                                    data-target="#tab-{iter.cycle}"
                                    href="#tab-{iter.cycle}"
                                    role="presentation"
                                    tabindex="-{iter.cycle}"
                                    id="ui-id-{iter.cycle}"
                                >
                                    {iter.cycle}. Frage
                                </a>
                            </li>
                        </f:if>
                    </f:for>
                </ul>
                <f:for each="{step.question}" as="question" iteration="iter">
                    <f:comment><!-- if question has answers (could be skipped) --> </f:comment>
                    <f:if condition="{rkwCheckup:checkQuestionForAnswers(question: '{question}', result: '{result}')}" >
                        <div class="tabs__content ui-tabs-panel ui-corner-bottom ui-widget-content" id="tab-{iter.cycle}" aria-labelledby="ui-id-{iter.cycle}" role="tabpanel" aria-hidden="false" style="">
                            <f:render partial="Result/Question" arguments="{_all}" />
                        </div>
                    </f:if>
                </f:for>
            </div>
        </div>

</html>