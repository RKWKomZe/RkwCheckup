<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:rkwCheckup="http://typo3.org/ns/RKW/RkwCheckup/ViewHelpers"
    data-namespace-typo3-fluid="true">

<f:form.validationResults>
    <div class="webcheck__questions mt-1">
        <p class="webcheck__hint">
            <f:if condition="{question.sumTo100}">
                <f:then>
                    Alle Werte müssen zusammenaddiert den Wert 100 ergeben.
                </f:then>
                <f:else>
                    (Optional) Bitte wählen Sie eine Option aus.
                </f:else>
            </f:if>
            <f:if condition="{question.minCheck} || {question.maxCheck}">
                <f:if condition="{question.minCheck} && {question.maxCheck}">
                    <f:then>
                        Alle Werte müssen zwischen {question.minCheck} und {question.maxCheck} liegen.
                    </f:then>
                    <f:else>
                        <f:if condition="{question.minCheck}">
                            <f:then>
                                Alle Werte müssen mindestens {question.minCheck} betragen.
                            </f:then>
                            <f:else>
                                Alle Werte dürfen maximal {question.maxCheck} betragen.
                            </f:else>
                        </f:if>
                    </f:else>
                </f:if>
            </f:if>
        </p>
    </div>
</f:form.validationResults>

<f:for each="{question.answer}" as="answer" iteration="answerIter">

    <f:comment><!-- additional fields of resultAnswer--></f:comment>
    <f:form.hidden property="newResultAnswer.{questionIter.index}{answerIter.index}.question" value="{question.uid}" />
    <f:form.hidden property="newResultAnswer.{questionIter.index}{answerIter.index}.step" value="{result.currentStep.uid}" />
    <f:form.hidden property="newResultAnswer.{questionIter.index}{answerIter.index}.section" value="{result.currentSection.uid}" />


    <div class="form__field form__field--webcheck">
        <label>
            {answer.title}
        </label>
        <f:form.textfield
            property="newResultAnswer.{questionIter.index}{answerIter.index}.freeNumericInput"
        />
    </div>


</f:for>


</html>